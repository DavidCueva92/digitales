Library IEEE;
Use IEEE.std_logic_1164.all;
Use IEEE.std_logic_unsigned.all;
Use IEEE.std_logic_arith.all;
use IEEE.numeric_std.all; 

Entity PROMEDIO is
	Port(	Suma_Xn: In std_logic_vector(7 downto 0);
			n: In std_logic_vector(3 downto 0);
			En: In std_logic;
			Media: Out Std_logic_vector(3 downto 0));
End PROMEDIO;

Architecture comportamiento of PROMEDIO is

signal m0,m1,m2,m3,m4,m5,m6,m7,m8,m9: INTEGER RANGE 0 TO 15;
signal m10,m11,m12,m13,m14,m15,m16,m17,m18,m19: INTEGER RANGE 0 TO 15;
signal m20,m21,m22,m23,m24,m25,m26,m27,m28,m29: INTEGER RANGE 0 TO 15;
signal m30,m31,m32,m33,m34,m35,m36,m37,m38,m39: INTEGER RANGE 0 TO 15;
signal m40,m41,m42,m43,m44,m45,m46,m47,m48,m49: INTEGER RANGE 0 TO 15;
signal m50,m51,m52,m53,m54,m55,m56,m57,m58,m59: INTEGER RANGE 0 TO 15;
signal m60,m61,m62,m63,m64,m65,m66,m67,m68,m69: INTEGER RANGE 0 TO 15;
signal m70,m71,m72,m73,m74,m75,m76,m77,m78,m79: INTEGER RANGE 0 TO 15;
signal m80,m81,m82,m83,m84,m85,m86,m87,m88,m89: INTEGER RANGE 0 TO 15;
signal m90,m91,m92,m93,m94,m95,m96,m97,m98,m99: INTEGER RANGE 0 TO 15;

signal m_u_0,m_u_1,m_u_2,m_u_3,m_u_4,m_u_5,m_u_6,m_u_7,m_u_8,m_u_9: INTEGER;
signal m_u_10,m_u_11,m_u_12,m_u_13,m_u_14,m_u_15,m_u_16,m_u_17,m_u_18,m_u_19: INTEGER;
signal m_u_20,m_u_21,m_u_22,m_u_23,m_u_24,m_u_25,m_u_26,m_u_27,m_u_28,m_u_29: INTEGER;
signal m_u_30,m_u_31,m_u_32,m_u_33,m_u_34,m_u_35,m_u_36,m_u_37,m_u_38,m_u_39: INTEGER;
signal m_u_40,m_u_41,m_u_42,m_u_43,m_u_44,m_u_45,m_u_46,m_u_47,m_u_48,m_u_49: INTEGER;
signal m_u_50,m_u_51,m_u_52,m_u_53,m_u_54,m_u_55,m_u_56,m_u_57,m_u_58,m_u_59: INTEGER;
signal m_u_60,m_u_61,m_u_62,m_u_63,m_u_64,m_u_65,m_u_66,m_u_67,m_u_68,m_u_69: INTEGER;
signal m_u_70,m_u_71,m_u_72,m_u_73,m_u_74,m_u_75,m_u_76,m_u_77,m_u_78,m_u_79: INTEGER;
signal m_u_80,m_u_81,m_u_82,m_u_83,m_u_84,m_u_85,m_u_86,m_u_87,m_u_88,m_u_89: INTEGER;
signal m_u_90,m_u_91,m_u_92,m_u_93,m_u_94,m_u_95,m_u_96,m_u_97,m_u_98,m_u_99: INTEGER;

--signal media1, media2, media3, media4, media5, media6, media7, media8, media9, media10: INTEGER RANGE 0 TO 1500;
signal media: INTEGER RANGE 0 TO 1500;
signal media_aritmetica: INTEGER RANGE 0 TO 1500;
signal varianza, desviacion_media, desviacion_estandar, coeficiente_variacion: INTEGER RANGE 0 TO 1500;

Begin
Process(habilitador)
begin
if(habilitador = '1') then
	m0 <= CONV_INTEGER(muestras_guardadas(399 downto 396));
	m1 <= CONV_INTEGER(muestras_guardadas(395 downto 392));
	m2 <= CONV_INTEGER(muestras_guardadas(391 downto 388));
	m3 <= CONV_INTEGER(muestras_guardadas(387 downto 384));
	m4 <= CONV_INTEGER(muestras_guardadas(383 downto 380));
	m5 <= CONV_INTEGER(muestras_guardadas(379 downto 376));
	m6 <= CONV_INTEGER(muestras_guardadas(375 downto 372));
	m7 <= CONV_INTEGER(muestras_guardadas(371 downto 368));
	m8 <= CONV_INTEGER(muestras_guardadas(367 downto 364));
	m9 <= CONV_INTEGER(muestras_guardadas(363 downto 360));
	m10 <= CONV_INTEGER(muestras_guardadas(359 downto 356));
	m11 <= CONV_INTEGER(muestras_guardadas(355 downto 352));
	m12 <= CONV_INTEGER(muestras_guardadas(351 downto 348));
	m13 <= CONV_INTEGER(muestras_guardadas(347 downto 344));
	m14 <= CONV_INTEGER(muestras_guardadas(343 downto 340));
	m15 <= CONV_INTEGER(muestras_guardadas(339 downto 336));
	m16 <= CONV_INTEGER(muestras_guardadas(335 downto 332));
	m17 <= CONV_INTEGER(muestras_guardadas(331 downto 328));
	m18 <= CONV_INTEGER(muestras_guardadas(327 downto 324));
	m19 <= CONV_INTEGER(muestras_guardadas(323 downto 320));
	m20 <= CONV_INTEGER(muestras_guardadas(319 downto 316));
	m21 <= CONV_INTEGER(muestras_guardadas(315 downto 312));
	m22 <= CONV_INTEGER(muestras_guardadas(311 downto 308));
	m23 <= CONV_INTEGER(muestras_guardadas(307 downto 304));
	m24 <= CONV_INTEGER(muestras_guardadas(303 downto 300));
	m25 <= CONV_INTEGER(muestras_guardadas(299 downto 296));
	m26 <= CONV_INTEGER(muestras_guardadas(295 downto 292));
	m27 <= CONV_INTEGER(muestras_guardadas(291 downto 288));
	m28 <= CONV_INTEGER(muestras_guardadas(287 downto 284));
	m29 <= CONV_INTEGER(muestras_guardadas(283 downto 280));
	m30 <= CONV_INTEGER(muestras_guardadas(279 downto 276));
	m31 <= CONV_INTEGER(muestras_guardadas(275 downto 272));
	m32 <= CONV_INTEGER(muestras_guardadas(271 downto 268));
	m33 <= CONV_INTEGER(muestras_guardadas(267 downto 264));
	m34 <= CONV_INTEGER(muestras_guardadas(263 downto 260));
	m35 <= CONV_INTEGER(muestras_guardadas(259 downto 256));
	m36 <= CONV_INTEGER(muestras_guardadas(255 downto 252));
	m37 <= CONV_INTEGER(muestras_guardadas(251 downto 248));
	m38 <= CONV_INTEGER(muestras_guardadas(247 downto 244));
	m39 <= CONV_INTEGER(muestras_guardadas(243 downto 240));
	m40 <= CONV_INTEGER(muestras_guardadas(239 downto 236));
	m41 <= CONV_INTEGER(muestras_guardadas(235 downto 232));
	m42 <= CONV_INTEGER(muestras_guardadas(231 downto 228));
	m43 <= CONV_INTEGER(muestras_guardadas(227 downto 224));
	m44 <= CONV_INTEGER(muestras_guardadas(223 downto 220));
	m45 <= CONV_INTEGER(muestras_guardadas(219 downto 216));
	m46 <= CONV_INTEGER(muestras_guardadas(215 downto 212));
	m47 <= CONV_INTEGER(muestras_guardadas(211 downto 208));
	m48 <= CONV_INTEGER(muestras_guardadas(207 downto 204));
	m49 <= CONV_INTEGER(muestras_guardadas(203 downto 200));
	m50 <= CONV_INTEGER(muestras_guardadas(199 downto 196));
	m51 <= CONV_INTEGER(muestras_guardadas(195 downto 192));
	m52 <= CONV_INTEGER(muestras_guardadas(191 downto 188));
	m53 <= CONV_INTEGER(muestras_guardadas(187 downto 184));
	m54 <= CONV_INTEGER(muestras_guardadas(183 downto 180));
	m55 <= CONV_INTEGER(muestras_guardadas(179 downto 176));
	m56 <= CONV_INTEGER(muestras_guardadas(175 downto 172));
	m57 <= CONV_INTEGER(muestras_guardadas(171 downto 168));
	m58 <= CONV_INTEGER(muestras_guardadas(167 downto 164));
	m59 <= CONV_INTEGER(muestras_guardadas(163 downto 160));
	m60 <= CONV_INTEGER(muestras_guardadas(159 downto 156));
	m61 <= CONV_INTEGER(muestras_guardadas(155 downto 152));
	m62 <= CONV_INTEGER(muestras_guardadas(151 downto 148));
	m63 <= CONV_INTEGER(muestras_guardadas(147 downto 144));
	m64 <= CONV_INTEGER(muestras_guardadas(143 downto 140));
	m65 <= CONV_INTEGER(muestras_guardadas(139 downto 136));
	m66 <= CONV_INTEGER(muestras_guardadas(135 downto 132));
	m67 <= CONV_INTEGER(muestras_guardadas(131 downto 128));
	m68 <= CONV_INTEGER(muestras_guardadas(127 downto 124));
	m69 <= CONV_INTEGER(muestras_guardadas(123 downto 120));
	m70 <= CONV_INTEGER(muestras_guardadas(119 downto 116));
	m71 <= CONV_INTEGER(muestras_guardadas(115 downto 112));
	m72 <= CONV_INTEGER(muestras_guardadas(111 downto 108));
	m73 <= CONV_INTEGER(muestras_guardadas(107 downto 104));
	m74 <= CONV_INTEGER(muestras_guardadas(103 downto 100));
	m75 <= CONV_INTEGER(muestras_guardadas(99 downto 96));
	m76 <= CONV_INTEGER(muestras_guardadas(95 downto 92));
	m77 <= CONV_INTEGER(muestras_guardadas(91 downto 88));
	m78 <= CONV_INTEGER(muestras_guardadas(87 downto 84));
	m79 <= CONV_INTEGER(muestras_guardadas(83 downto 80));
	m80 <= CONV_INTEGER(muestras_guardadas(79 downto 76));
	m81 <= CONV_INTEGER(muestras_guardadas(75 downto 72));
	m82 <= CONV_INTEGER(muestras_guardadas(71 downto 68));
	m83 <= CONV_INTEGER(muestras_guardadas(67 downto 64));
	m84 <= CONV_INTEGER(muestras_guardadas(63 downto 60));
	m85 <= CONV_INTEGER(muestras_guardadas(59 downto 56));
	m86 <= CONV_INTEGER(muestras_guardadas(55 downto 52));
	m87 <= CONV_INTEGER(muestras_guardadas(51 downto 48));
	m88 <= CONV_INTEGER(muestras_guardadas(47 downto 44));
	m89 <= CONV_INTEGER(muestras_guardadas(43 downto 40));
	m90 <= CONV_INTEGER(muestras_guardadas(39 downto 36));
	m91 <= CONV_INTEGER(muestras_guardadas(35 downto 32));
	m92 <= CONV_INTEGER(muestras_guardadas(31 downto 28));
	m93 <= CONV_INTEGER(muestras_guardadas(27 downto 24));
	m94 <= CONV_INTEGER(muestras_guardadas(23 downto 20));
	m95 <= CONV_INTEGER(muestras_guardadas(19 downto 16));
	m96 <= CONV_INTEGER(muestras_guardadas(15 downto 12));
	m97 <= CONV_INTEGER(muestras_guardadas(11 downto 8));
	m98 <= CONV_INTEGER(muestras_guardadas(7 downto 4));
	m99 <= CONV_INTEGER(muestras_guardadas(3 downto 0));
	
	--media1 <= (m0+m1+m2+m3+m4+m5+m6+m7+m8+m9);
	--media2 <= (m10+m11+m12+m13+m14+m15+m16+m17+m18+m19);
	--media3 <= (m20+m21+m22+m23+m24+m25+m26+m27+m28+m29);
	--media4 <= (m30+m31+m32+m33+m34+m35+m36+m37+m38+m39);
	--media5 <= (m40+m41+m42+m43+m44+m45+m46+m47+m48+m49);
	--media6 <= (m50+m51+m52+m53+m54+m55+m56+m57+m58+m59);
	--media7 <= (m60+m61+m62+m63+m64+m65+m66+m67+m68+m69);
	--media8 <= (m70+m71+m72+m73+m74+m75+m76+m77+m78+m79);
	--media9 <= (m80+m81+m82+m83+m84+m85+m86+m87+m88+m89);
	--media10 <= (m90+m91+m92+m93+m94+m95+m96+m97+m98+m99);
	
	media <= m0+m1+m2+m3+m4+m5+m6+m7+m8+m9+m10+m11+m12+m13+m14+m15+m16+m17+m18+m19+m20+m21+m22+m23+m24+m25+m26+m27+m28+m29+m30+m31+m32+m33+m34+m35+m36+m37+m38+m39+m40+m41+m42+m43+m44+m45+m46+m47+m48+m49+m50+m51+m52+m53+m54+m55+m56+m57+m58+m59+m60+m61+m62+m63+m64+m65+m66+m67+m68+m69+m70+m71+m72+m73+m74+m75+m76+m77+m78+m79+m80+m81+m82+m83+m84+m85+m86+m87+m88+m89+m90+m91+m92+m93+m94+m95+m96+m97+m98+m99;
	media_aritmetica <= media/100;
	med <= CONV_STD_LOGIC_VECTOR(media_aritmetica, 10);
	
	--md1 <= CONV_STD_LOGIC_VECTOR(media1, 8);
	--md2 <= CONV_STD_LOGIC_VECTOR(media2, 8);
	--md3 <= CONV_STD_LOGIC_VECTOR(media3, 8);
	--md4 <= CONV_STD_LOGIC_VECTOR(media4, 8);
	--md5 <= CONV_STD_LOGIC_VECTOR(media5, 8);
	--md6 <= CONV_STD_LOGIC_VECTOR(media6, 8);
	--md7 <= CONV_STD_LOGIC_VECTOR(media7, 8);
	--md8 <= CONV_STD_LOGIC_VECTOR(media8, 8);
	--md9 <= CONV_STD_LOGIC_VECTOR(media9, 8);
	--md10 <= CONV_STD_LOGIC_VECTOR(media10, 8);
	
	m_u_0 <= ABS(m0 - media_aritmetica);
	m_u_1 <= ABS(m1 - media_aritmetica);
	m_u_2 <= ABS(m2 - media_aritmetica);
	m_u_3 <= ABS(m3 - media_aritmetica);
	m_u_4 <= ABS(m4 - media_aritmetica);
	m_u_5 <= ABS(m5 - media_aritmetica);
	m_u_6 <= ABS(m6 - media_aritmetica);
	m_u_7 <= ABS(m7 - media_aritmetica);
	m_u_8 <= ABS(m8 - media_aritmetica);
	m_u_9 <= ABS(m9 - media_aritmetica);
	m_u_10 <= ABS(m10 - media_aritmetica);
	m_u_11 <= ABS(m11 - media_aritmetica);
	m_u_12 <= ABS(m12 - media_aritmetica);
	m_u_13 <= ABS(m13 - media_aritmetica);
	m_u_14 <= ABS(m14 - media_aritmetica);
	m_u_15 <= ABS(m15 - media_aritmetica);
	m_u_16 <= ABS(m16 - media_aritmetica);
	m_u_17 <= ABS(m17 - media_aritmetica);
	m_u_18 <= ABS(m18 - media_aritmetica);
	m_u_19 <= ABS(m19 - media_aritmetica);
	m_u_20 <= ABS(m20 - media_aritmetica);
	m_u_21 <= ABS(m21 - media_aritmetica);
	m_u_22 <= ABS(m22 - media_aritmetica);
	m_u_23 <= ABS(m23 - media_aritmetica);
	m_u_24 <= ABS(m24 - media_aritmetica);
	m_u_25 <= ABS(m25 - media_aritmetica);
	m_u_26 <= ABS(m26 - media_aritmetica);
	m_u_27 <= ABS(m27 - media_aritmetica);
	m_u_28 <= ABS(m28 - media_aritmetica);
	m_u_29 <= ABS(m29 - media_aritmetica);
	m_u_30 <= ABS(m30 - media_aritmetica);
	m_u_31 <= ABS(m31 - media_aritmetica);
	m_u_32 <= ABS(m32 - media_aritmetica);
	m_u_33 <= ABS(m33 - media_aritmetica);
	m_u_34 <= ABS(m34 - media_aritmetica);
	m_u_35 <= ABS(m35 - media_aritmetica);
	m_u_36 <= ABS(m36 - media_aritmetica);
	m_u_37 <= ABS(m37 - media_aritmetica);
	m_u_38 <= ABS(m38 - media_aritmetica);
	m_u_39 <= ABS(m39 - media_aritmetica);
	m_u_40 <= ABS(m40 - media_aritmetica);
	m_u_41 <= ABS(m41 - media_aritmetica);
	m_u_42 <= ABS(m42 - media_aritmetica);
	m_u_43 <= ABS(m43 - media_aritmetica);
	m_u_44 <= ABS(m44 - media_aritmetica);
	m_u_45 <= ABS(m45 - media_aritmetica);
	m_u_46 <= ABS(m46 - media_aritmetica);
	m_u_47 <= ABS(m47 - media_aritmetica);
	m_u_48 <= ABS(m48 - media_aritmetica);
	m_u_49 <= ABS(m49 - media_aritmetica);
	m_u_50 <= ABS(m50 - media_aritmetica);
	m_u_51 <= ABS(m51 - media_aritmetica);
	m_u_52 <= ABS(m52 - media_aritmetica);
	m_u_53 <= ABS(m53 - media_aritmetica);
	m_u_54 <= ABS(m54 - media_aritmetica);
	m_u_55 <= ABS(m55 - media_aritmetica);
	m_u_56 <= ABS(m56 - media_aritmetica);
	m_u_57 <= ABS(m57 - media_aritmetica);
	m_u_58 <= ABS(m58 - media_aritmetica);
	m_u_59 <= ABS(m59 - media_aritmetica);
	m_u_60 <= ABS(m60 - media_aritmetica);
	m_u_61 <= ABS(m61 - media_aritmetica);
	m_u_62 <= ABS(m62 - media_aritmetica);
	m_u_63 <= ABS(m63 - media_aritmetica);
	m_u_64 <= ABS(m64 - media_aritmetica);
	m_u_65 <= ABS(m65 - media_aritmetica);
	m_u_66 <= ABS(m66 - media_aritmetica);
	m_u_67 <= ABS(m67 - media_aritmetica);
	m_u_68 <= ABS(m68 - media_aritmetica);
	m_u_69 <= ABS(m69 - media_aritmetica);
	m_u_70 <= ABS(m70 - media_aritmetica);
	m_u_71 <= ABS(m71 - media_aritmetica);
	m_u_72 <= ABS(m72 - media_aritmetica);
	m_u_73 <= ABS(m73 - media_aritmetica);
	m_u_74 <= ABS(m74 - media_aritmetica);
	m_u_75 <= ABS(m75 - media_aritmetica);
	m_u_76 <= ABS(m76 - media_aritmetica);
	m_u_77 <= ABS(m77 - media_aritmetica);
	m_u_78 <= ABS(m78 - media_aritmetica);
	m_u_79 <= ABS(m79 - media_aritmetica);
	m_u_80 <= ABS(m80 - media_aritmetica);
	m_u_81 <= ABS(m81 - media_aritmetica);
	m_u_82 <= ABS(m82 - media_aritmetica);
	m_u_83 <= ABS(m83 - media_aritmetica);
	m_u_84 <= ABS(m84 - media_aritmetica);
	m_u_85 <= ABS(m85 - media_aritmetica);
	m_u_86 <= ABS(m86 - media_aritmetica);
	m_u_87 <= ABS(m87 - media_aritmetica);
	m_u_88 <= ABS(m88 - media_aritmetica);
	m_u_89 <= ABS(m89 - media_aritmetica);
	m_u_90 <= ABS(m90 - media_aritmetica);
	m_u_91 <= ABS(m91 - media_aritmetica);
	m_u_92 <= ABS(m92 - media_aritmetica);
	m_u_93 <= ABS(m93 - media_aritmetica);
	m_u_94 <= ABS(m94 - media_aritmetica);
	m_u_95 <= ABS(m95 - media_aritmetica);
	m_u_96 <= ABS(m96 - media_aritmetica);
	m_u_97 <= ABS(m97 - media_aritmetica);
	m_u_98 <= ABS(m98 - media_aritmetica);
	m_u_99 <= ABS(m99 - media_aritmetica);

	varianza <= (m_u_0*m_u_0 + m_u_1*m_u_1 + m_u_2*m_u_2 + m_u_3*m_u_3 + m_u_4*m_u_4 + m_u_5*m_u_5 + m_u_6*m_u_6 + m_u_7*m_u_7 + m_u_8*m_u_8 + m_u_9*m_u_9 + m_u_10*m_u_10 + m_u_11*m_u_11 + m_u_12*m_u_12 + m_u_13*m_u_13 + m_u_14*m_u_14 + m_u_15*m_u_15 + m_u_16*m_u_16 + m_u_17*m_u_17 + m_u_18*m_u_18 + m_u_19*m_u_19 + m_u_20*m_u_20 + m_u_21*m_u_21 + m_u_22*m_u_22 + m_u_23*m_u_23 + m_u_24*m_u_24 + m_u_25*m_u_25 + m_u_26*m_u_26 + m_u_27*m_u_27 + m_u_28*m_u_28 + m_u_29*m_u_29 + m_u_30*m_u_30 + m_u_31*m_u_31 + m_u_32*m_u_32 + m_u_33*m_u_33 + m_u_34*m_u_34 + m_u_35*m_u_35 + m_u_36*m_u_36 + m_u_37*m_u_37 + m_u_38*m_u_38 + m_u_39*m_u_39 + m_u_40*m_u_40 + m_u_41*m_u_41 + m_u_42*m_u_42 + m_u_43*m_u_43 + m_u_44*m_u_44 + m_u_45*m_u_45 + m_u_46*m_u_46 + m_u_47*m_u_47 + m_u_48*m_u_48 + m_u_49*m_u_49 + m_u_50*m_u_50 + m_u_51*m_u_51 + m_u_52*m_u_52 + m_u_53*m_u_53 + m_u_54*m_u_54 + m_u_55*m_u_55 + m_u_56*m_u_56 + m_u_57*m_u_57 + m_u_58*m_u_58 + m_u_59*m_u_59 + m_u_60*m_u_60 + m_u_61*m_u_61 + m_u_62*m_u_62 + m_u_63*m_u_63 + m_u_64*m_u_64 + m_u_65*m_u_65 + m_u_66*m_u_66 + m_u_67*m_u_67 + m_u_68*m_u_68 + m_u_69*m_u_69 + m_u_70*m_u_70 + m_u_71*m_u_71 + m_u_72*m_u_72 + m_u_73*m_u_73 + m_u_74*m_u_74 + m_u_75*m_u_75 + m_u_76*m_u_76 + m_u_77*m_u_77 + m_u_78*m_u_78 + m_u_79*m_u_79 + m_u_80*m_u_80 + m_u_81*m_u_81 + m_u_82*m_u_82 + m_u_83*m_u_83 + m_u_84*m_u_84 + m_u_85*m_u_85 + m_u_86*m_u_86 + m_u_87*m_u_87 + m_u_88*m_u_88 + m_u_89*m_u_89 + m_u_90*m_u_90 + m_u_91*m_u_91 + m_u_92*m_u_92 + m_u_93*m_u_93 + m_u_94*m_u_94 + m_u_95*m_u_95 + m_u_96*m_u_96 + m_u_97*m_u_97 + m_u_98*m_u_98 + m_u_99*m_u_99)/100;
	var <= CONV_STD_LOGIC_VECTOR(varianza, 10);
	
	desviacion_media <= (m_u_0+m_u_1+m_u_2+m_u_3+m_u_4+m_u_5+m_u_6+m_u_7+m_u_8+m_u_9+m_u_10+m_u_11+m_u_12+m_u_13+m_u_14+m_u_15+m_u_16+m_u_17+m_u_18+m_u_19+m_u_20+m_u_21+m_u_22+m_u_23+m_u_24+m_u_25+m_u_26+m_u_27+m_u_28+m_u_29+m_u_30+m_u_31+m_u_32+m_u_33+m_u_34+m_u_35+m_u_36+m_u_37+m_u_38+m_u_39+m_u_40+m_u_41+m_u_42+m_u_43+m_u_44+m_u_45+m_u_46+m_u_47+m_u_48+m_u_49+m_u_50+m_u_51+m_u_52+m_u_53+m_u_54+m_u_55+m_u_56+m_u_57+m_u_58+m_u_59+m_u_60+m_u_61+m_u_62+m_u_63+m_u_64+m_u_65+m_u_66+m_u_67+m_u_68+m_u_69+m_u_70+m_u_71+m_u_72+m_u_73+m_u_74+m_u_75+m_u_76+m_u_77+m_u_78+m_u_79+m_u_80+m_u_81+m_u_82+m_u_83+m_u_84+m_u_85+m_u_86+m_u_87+m_u_88+m_u_89+m_u_90+m_u_91+m_u_92+m_u_93+m_u_94+m_u_95+m_u_96+m_u_97+m_u_98+m_u_99)/100;
	desv_med <= CONV_STD_LOGIC_VECTOR(desviacion_media, 10);
	
	if(varianza = 0) then desviacion_estandar <= 0;
	elsif (varianza>0 and varianza<3) then desviacion_estandar <= 1;
	elsif (varianza>2 and varianza<7) then desviacion_estandar <= 2;
	elsif (varianza>6 and varianza<13) then desviacion_estandar <= 3;
	elsif (varianza>12 and varianza<21) then desviacion_estandar <= 4;
	elsif (varianza>20 and varianza<31) then desviacion_estandar <= 5;
	elsif (varianza>30 and varianza<43) then desviacion_estandar <= 6;
	elsif (varianza>42 and varianza<57) then desviacion_estandar <= 7;
	elsif (varianza>56 and varianza<73) then desviacion_estandar <= 8;
	elsif (varianza>72 and varianza<91) then desviacion_estandar <= 9;
	elsif (varianza>90 and varianza<111) then desviacion_estandar <= 10;
	elsif (varianza>110 and varianza<133) then desviacion_estandar <= 11;
	elsif (varianza>132 and varianza<157) then desviacion_estandar <= 12;
	elsif (varianza>156 and varianza<183) then desviacion_estandar <= 13;
	elsif (varianza>182 and varianza<211) then desviacion_estandar <= 14;
	elsif (varianza>210 and varianza<241) then desviacion_estandar <= 15;
	elsif (varianza>240 and varianza<256) then desviacion_estandar <= 16;
	else desviacion_estandar <= 0; end if;
	
	desv_std <= CONV_STD_LOGIC_VECTOR(desviacion_estandar, 5);
	
	coeficiente_variacion <= (desviacion_estandar*100)/abs media_aritmetica;
	coef_variac <= CONV_STD_LOGIC_VECTOR(coeficiente_variacion, 8);
else
	--md1 <= "00000000"; md2 <= "00000000"; md3 <= "00000000"; md4 <= "00000000"; md5 <= "00000000"; md6 <= "00000000"; md7 <= "00000000"; md8 <= "00000000"; md9 <= "00000000"; md10 <= "00000000";
	med <= "0000000000"; var <= "0000000000"; desv_med <= "0000000000"; desv_std <= "00000"; coef_variac <= "00000000";
end if;
end process;

End comportamiento;